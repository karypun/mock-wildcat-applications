import { Fragment, createElement as h } from 'react';
import { Helmet } from 'react-helmet-async';
import { BackLink } from '@not-govuk/back-link';
import { Breadcrumbs } from '@not-govuk/breadcrumbs';
import { classBuilder } from '@not-govuk/component-helpers';
import { Footer } from '@not-govuk/footer';
import { Header } from '@not-govuk/header';
import { A } from '@not-govuk/link';
import { PhaseBanner } from '@not-govuk/phase-banner';
import { SkipLink } from '@not-govuk/skip-link';
import { WidthContainer } from '@not-govuk/width-container';
import '../assets/Page.scss';
export const Page = ({ backHref, breadcrumbs, children, classBlock, classModifiers: _classModifiers, className, department, feedbackHref, footerContent, footerNavigation, govUK, maxContentsWidth, meta, metaTitle, navigation, organisationHref, organisationText, phase, phaseBannerContent, serviceHref, serviceName: _serviceName, signOutHref, signOutText, title: _title, ...attrs }) => {
    const classModifiers = (Array.isArray(_classModifiers)
        ? _classModifiers
        : [_classModifiers]);
    const classes = classBuilder('not-govuk-page', classBlock, [...classModifiers, department], className);
    const serviceName = _serviceName || _title;
    const title = _title || _serviceName || 'NotGovUK';
    const headerProps = {
        department,
        govUK,
        maxContentsWidth,
        navigation,
        organisationHref,
        organisationText,
        serviceHref,
        serviceName,
        signOutHref,
        signOutText
    };
    const footerProps = {
        govUK,
        maxContentsWidth,
        meta,
        metaTitle,
        navigation: footerNavigation
    };
    const mainId = 'main-content';
    return (h("div", Object.assign({}, attrs, { className: classes() }),
        h(Helmet, null,
            h("title", null, title),
            h("meta", { name: "viewport", content: "width=device-width, initial-scale=1, viewport-fit=cover" }),
            h("meta", { httpEquiv: "X-UA-Compatible", content: "IE=edge" })),
        h(SkipLink, { id: "skip-link", for: mainId }, "Skip to main content"),
        h(Header, Object.assign({}, headerProps, { className: classes('header') })),
        h("div", { className: classes('body') },
            h(WidthContainer, { maxWidth: maxContentsWidth, className: classes('container') },
                !phase ? null : (h(PhaseBanner, { id: "phase-banner", phase: phase }, phaseBannerContent || (h(Fragment, null,
                    "This is a new service - your ",
                    feedbackHref
                        ? (h(A, { href: feedbackHref }, "feedback"))
                        : 'feedback',
                    " will help us to improve it.")))),
                (breadcrumbs === null || breadcrumbs === void 0 ? void 0 : breadcrumbs.length) ? (h(Breadcrumbs, { id: "breadcrumbs", items: breadcrumbs }))
                    : (!backHref ? null : (h(BackLink, { id: "back-link", href: backHref }))),
                h("main", { id: mainId, role: "main", className: classes('main') }, children))),
        h(Footer, Object.assign({}, footerProps, { className: classes('footer') }), footerContent)));
};
export default Page;
