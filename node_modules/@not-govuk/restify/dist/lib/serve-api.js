"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.installServeAPI = void 0;
const router_1 = require("./router");
function forAPI(req) {
    const reducer = (acc, v) => acc || req.path().startsWith(v);
    return this.apiPaths.reduce(reducer, false);
}
function serveAPI(path, router) {
    this.apiPaths.push(path);
    this.serve(path, router);
}
exports.installServeAPI = (httpd) => {
    if (httpd.serve === undefined) {
        router_1.installServe(httpd);
    }
    httpd.apiPaths = [];
    httpd.forAPI = forAPI;
    httpd.serveAPI = serveAPI;
};
exports.default = exports.installServeAPI;
