import { createElement as h } from 'react';
import { A, isActive } from '@not-govuk/anchor';
import { classBuilder } from '@not-govuk/component-helpers';
import { matchPath, urlParse, useLocation } from '@not-govuk/route-utils';
import '../assets/AnchorList.scss';
export const AnchorList = ({ as: Component = 'ul', children, classBlock, classModifiers, className, items, ...attrs }) => {
    const classes = classBuilder('penultimate-anchor-list', classBlock, classModifiers, className);
    const location = useLocation();
    const matcher = matchPath(location);
    const processedItems = items.map(({ text, href, ...anchorAttrs }, i) => {
        const url = urlParse(href);
        const match = matcher(href);
        const active = isActive(url.query)(match, location);
        return (h("li", { key: i, className: classes('item', active ? 'active' : undefined) },
            h(A, Object.assign({}, anchorAttrs, { classBlock: classes('link'), href: href }), text)));
    });
    return (h(Component, Object.assign({}, attrs, { className: classes() }), processedItems));
};
export default AnchorList;
